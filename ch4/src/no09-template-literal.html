<!DOCTYPE html>
<html lang="ja">
<head>
  <title>ch4-9 タグ付きテンプレート文字列.</title>
  <meta charset="utf-8">
</head>
<body>
  <h1>タグ付きテンプレート文字列</h1>
  <script type="text/javascript">
    function escapeHtml(str) {
      if (!str) { return ''; }
      str = str.replace(/&/g, '&amp;');
      str = str.replace(/</g, '&lt;');
      str = str.replace(/>/g, '&gt;');
      str = str.replace(/"/g, '&quot;');
      str = str.replace(/'/g, '&#39;');
      return str;
    }

    function esc(templates, ...values) {
      let result = '';
      for (let i = 0, len = templates.length; i < len; i++) {
        result += templates[i] + escapeHtml(values[i]);
      }
      return result;
    }

    let name = '<"Mario" & \'Luigi\'>';
    console.log(esc`${name}さん、おはようございます！${name}さんっ！${name}さんっ！起きてーっ！`);
  </script>
</body>
</html>
