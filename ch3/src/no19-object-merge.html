<!DOCTYPE html>
<html lang="ja">
<head>
  <title>ch3-19 オブジェクトをマージ.</title>
  <meta charset="utf-8">
</head>
<body>
  <h1>オブジェクトをマージ</h1>
  <script type="text/javascript">
    document.write(`
      <h2>assignメソッド<破壊的メソッド></h2>
      <p>
        Object.assign(target, source, ...)<br />
        sourceのオブジェクトをtargetにコピーしていく処理。<br />
        targetを上書きする破壊的メソッドだが、以下のようにすれば破壊を回避できる。<br />
        Object.assign({}, source(targetもsourceにする), ...)
      </p>
      <ul>
        <li>同盟プロパティは後のもので上書き</li>
        <li>再帰的なマージはできない(ディープじゃない)</li>
      </ul>
      <div style="padding: 10px; background-color: #eee; color: green; font-size: 12px; line-height: 1.2;">
        let pet = {<br />
          &nbsp;&nbsp;&nbsp;type: 'スノーホワイトハムスター',<br />
          &nbsp;&nbsp;&nbsp;name: 'キラ',<br />
          &nbsp;&nbsp;&nbsp;description: {<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;birth: '2014-02-15'<br />
          &nbsp;&nbsp;&nbsp;}<br />
        };<br />
        let pet2 = {<br />
          &nbsp;&nbsp;&nbsp;name: '山田キラ',<br />
          &nbsp;&nbsp;&nbsp;color: '白',<br />
          &nbsp;&nbsp;&nbsp;description: {<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;food: 'ひまわりのタネ'<br />
          &nbsp;&nbsp;&nbsp;}<br />
        };<br />
        let pet3 = {<br />
          &nbsp;&nbsp;&nbsp;weight: 42,<br />
          &nbsp;&nbsp;&nbsp;photo: 'http://www.wings.msn.to/img/ham.jpg'<br />
        };<br />
        <br />
        Object.assign(pet, pet2, pet3);<br />
      </div>
    `);

    let pet = {
      type: 'スノーホワイトハムスター',
      name: 'キラ',
      description: {
        birth: '2014-02-15'
      }
    };
    let pet2 = {
      name: '山田キラ',
      color: '白',
      weight: 24,
      description: {
        food: 'ひまわりのタネ'
      }
    };
    let pet3 = {
      weight: 42,
      photo: 'http://www.wings.msn.to/img/ham.jpg'
    };

    console.log(Object.assign(pet, pet2, pet3));
  </script>
</body>
</html>
