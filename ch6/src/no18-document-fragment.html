<!DOCTYPE html>
<html lang="ja">
<head>
  <title>ch6-18 document fragment.</title>
  <meta charset="utf-8">
</head>
<body>
  <ul id="list"></ul>
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
      var books = [
        {title: '独習PHP', price: 3200},
        {title: 'Javaポケットリファレンス', price: 2600},
        {title: 'アプリを作ろう', price: 2000}
      ];

      var flag = document.createDocumentFragment();

      for (var i = 0, len = books.length; i < len; i++) {
        var b = books[i],
          li = document.createElement('li'),
          text = document.createTextNode(b.title + ':' + b.price + '円');

        li.appendChild(text);
        frag.appendChild(li);
      }

      document.getElementById('list').appendChild(frag);
    }, false);
  </script>
</body>
</html>
